


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.3">
    
    
      
        <title>API - M3DB Operator Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.947af8d5.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-docs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="M3DB Operator Documentation" class="md-header-nav__button md-logo" aria-label="M3DB Operator Documentation">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            M3DB Operator Documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              API
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/m3db/m3db-operator/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    m3db/m3db-operator
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="M3DB Operator Documentation" class="md-nav__button md-logo" aria-label="M3DB Operator Documentation">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    M3DB Operator Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/m3db/m3db-operator/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    m3db/m3db-operator
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Getting Started
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../getting_started/requirements/" title="Requirements" class="md-nav__link">
      Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../getting_started/installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../getting_started/create_cluster/" title="Creating a Cluster" class="md-nav__link">
      Creating a Cluster
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../getting_started/update_cluster/" title="Updating a Cluster" class="md-nav__link">
      Updating a Cluster
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../getting_started/delete_cluster/" title="Deleting a Cluster" class="md-nav__link">
      Deleting a Cluster
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../getting_started/monitoring/" title="Monitoring" class="md-nav__link">
      Monitoring
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Configuration
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Configuration" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../configuration/configuring_m3db/" title="Configuring M3DB" class="md-nav__link">
      Configuring M3DB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configuration/pod_identity/" title="Pod Identity" class="md-nav__link">
      Pod Identity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configuration/namespaces/" title="Namespaces" class="md-nav__link">
      Namespaces
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configuration/node_affinity/" title="Node Affinity & Cluster Topology" class="md-nav__link">
      Node Affinity & Cluster Topology
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configuration/node_endpoint/" title="Node Endpoint" class="md-nav__link">
      Node Endpoint
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        API
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="API" class="md-nav__link md-nav__link--active">
      API
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    Table of Contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clustercondition" class="md-nav__link">
    ClusterCondition
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clusterspec" class="md-nav__link">
    ClusterSpec
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#externalcoordinatorconfig" class="md-nav__link">
    ExternalCoordinatorConfig
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isolationgroup" class="md-nav__link">
    IsolationGroup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#m3dbcluster" class="md-nav__link">
    M3DBCluster
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#m3dbclusterlist" class="md-nav__link">
    M3DBClusterList
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#m3dbstatus" class="md-nav__link">
    M3DBStatus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nodeaffinityterm" class="md-nav__link">
    NodeAffinityTerm
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexoptions" class="md-nav__link">
    IndexOptions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#namespace" class="md-nav__link">
    Namespace
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#namespaceoptions" class="md-nav__link">
    NamespaceOptions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retentionoptions" class="md-nav__link">
    RetentionOptions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#podidentity" class="md-nav__link">
    PodIdentity
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#podidentityconfig" class="md-nav__link">
    PodIdentityConfig
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    Table of Contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clustercondition" class="md-nav__link">
    ClusterCondition
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clusterspec" class="md-nav__link">
    ClusterSpec
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#externalcoordinatorconfig" class="md-nav__link">
    ExternalCoordinatorConfig
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isolationgroup" class="md-nav__link">
    IsolationGroup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#m3dbcluster" class="md-nav__link">
    M3DBCluster
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#m3dbclusterlist" class="md-nav__link">
    M3DBClusterList
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#m3dbstatus" class="md-nav__link">
    M3DBStatus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nodeaffinityterm" class="md-nav__link">
    NodeAffinityTerm
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexoptions" class="md-nav__link">
    IndexOptions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#namespace" class="md-nav__link">
    Namespace
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#namespaceoptions" class="md-nav__link">
    NamespaceOptions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retentionoptions" class="md-nav__link">
    RetentionOptions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#podidentity" class="md-nav__link">
    PodIdentity
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#podidentityconfig" class="md-nav__link">
    PodIdentityConfig
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/m3db/m3db-operator/edit/master/docs/api.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="api-docs">API Docs</h1>
<p>This document enumerates the Custom Resource Definitions used by the M3DB Operator. It is auto-generated from code comments.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#clustercondition">ClusterCondition</a></li>
<li><a href="#clusterspec">ClusterSpec</a></li>
<li><a href="#externalcoordinatorconfig">ExternalCoordinatorConfig</a></li>
<li><a href="#isolationgroup">IsolationGroup</a></li>
<li><a href="#m3dbcluster">M3DBCluster</a></li>
<li><a href="#m3dbclusterlist">M3DBClusterList</a></li>
<li><a href="#m3dbstatus">M3DBStatus</a></li>
<li><a href="#nodeaffinityterm">NodeAffinityTerm</a></li>
<li><a href="#indexoptions">IndexOptions</a></li>
<li><a href="#namespace">Namespace</a></li>
<li><a href="#namespaceoptions">NamespaceOptions</a></li>
<li><a href="#retentionoptions">RetentionOptions</a></li>
<li><a href="#podidentity">PodIdentity</a></li>
<li><a href="#podidentityconfig">PodIdentityConfig</a></li>
</ul>
<h2 id="clustercondition">ClusterCondition</h2>
<p>ClusterCondition represents various conditions the cluster can be in.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Scheme</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Type of cluster condition.</td>
<td>ClusterConditionType</td>
<td>false</td>
</tr>
<tr>
<td>status</td>
<td>Status of the condition (True, False, Unknown).</td>
<td>corev1.ConditionStatus</td>
<td>false</td>
</tr>
<tr>
<td>lastUpdateTime</td>
<td>Last time this condition was updated.</td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>lastTransitionTime</td>
<td>Last time this condition transitioned from one status to another.</td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>reason</td>
<td>Reason this condition last changed.</td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>message</td>
<td>Human-friendly message about this condition.</td>
<td>string</td>
<td>false</td>
</tr>
</tbody>
</table>
<p><a href="#table-of-contents">Back to TOC</a></p>
<h2 id="clusterspec">ClusterSpec</h2>
<p>ClusterSpec defines the desired state for a M3 cluster to be converge to.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Scheme</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>image</td>
<td>Image specifies which docker image to use with the cluster</td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>replicationFactor</td>
<td>ReplicationFactor defines how many replicas</td>
<td>int32</td>
<td>false</td>
</tr>
<tr>
<td>numberOfShards</td>
<td>NumberOfShards defines how many shards in total</td>
<td>int32</td>
<td>false</td>
</tr>
<tr>
<td>isolationGroups</td>
<td>IsolationGroups specifies a map of key-value pairs. Defines which isolation groups to deploy persistent volumes for data nodes</td>
<td>[]<a href="#isolationgroup">IsolationGroup</a></td>
<td>false</td>
</tr>
<tr>
<td>namespaces</td>
<td>Namespaces specifies the namespaces this cluster will hold.</td>
<td>[]<a href="#namespace">Namespace</a></td>
<td>false</td>
</tr>
<tr>
<td>etcdEndpoints</td>
<td>EtcdEndpoints defines the etcd endpoints to use for service discovery. Must be set if no custom configmap is defined. If set, etcd endpoints will be templated in to the default configmap template.</td>
<td>[]string</td>
<td>false</td>
</tr>
<tr>
<td>keepEtcdDataOnDelete</td>
<td>KeepEtcdDataOnDelete determines whether the operator will remove cluster metadata (placement + namespaces) in etcd when the cluster is deleted. Unless true, etcd data will be cleared when the cluster is deleted.</td>
<td>bool</td>
<td>false</td>
</tr>
<tr>
<td>enableCarbonIngester</td>
<td>EnableCarbonIngester enables the listener port for the carbon ingester</td>
<td>bool</td>
<td>false</td>
</tr>
<tr>
<td>configMapName</td>
<td>ConfigMapName specifies the ConfigMap to use for this cluster. If unset a default configmap with template variables for etcd endpoints will be used. See \"Configuring M3DB\" in the docs for more.</td>
<td>*string</td>
<td>false</td>
</tr>
<tr>
<td>podIdentityConfig</td>
<td>PodIdentityConfig sets the configuration for pod identity. If unset only pod name and UID will be used.</td>
<td>*PodIdentityConfig</td>
<td>false</td>
</tr>
<tr>
<td>containerResources</td>
<td>Resources defines memory / cpu constraints for each container in the cluster.</td>
<td><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.10/#resourcerequirements-v1-core">corev1.ResourceRequirements</a></td>
<td>false</td>
</tr>
<tr>
<td>dataDirVolumeClaimTemplate</td>
<td>DataDirVolumeClaimTemplate is the volume claim template for an M3DB instance's data. It claims PersistentVolumes for cluster storage, volumes are dynamically provisioned by when the StorageClass is defined.</td>
<td>*<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.10/#persistentvolumeclaim-v1-core">corev1.PersistentVolumeClaim</a></td>
<td>false</td>
</tr>
<tr>
<td>podSecurityContext</td>
<td>PodSecurityContext allows the user to specify an optional security context for pods.</td>
<td>*corev1.PodSecurityContext</td>
<td>false</td>
</tr>
<tr>
<td>securityContext</td>
<td>SecurityContext allows the user to specify a container-level security context.</td>
<td>*corev1.SecurityContext</td>
<td>false</td>
</tr>
<tr>
<td>imagePullSecrets</td>
<td>ImagePullSecrets will be added to every pod.</td>
<td>[]<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.10/#localobjectreference-v1-core">corev1.LocalObjectReference</a></td>
<td>false</td>
</tr>
<tr>
<td>envVars</td>
<td>EnvVars defines custom environment variables to be passed to M3DB containers.</td>
<td>[]corev1.EnvVar</td>
<td>false</td>
</tr>
<tr>
<td>labels</td>
<td>Labels sets the base labels that will be applied to resources created by the cluster. // TODO(schallert): design doc on labeling scheme.</td>
<td>map[string]string</td>
<td>false</td>
</tr>
<tr>
<td>annotations</td>
<td>Annotations sets the base annotations that will be applied to resources created by the cluster.</td>
<td>map[string]string</td>
<td>false</td>
</tr>
<tr>
<td>tolerations</td>
<td>Tolerations sets the tolerations that will be applied to all M3DB pods.</td>
<td>[]corev1.Toleration</td>
<td>false</td>
</tr>
<tr>
<td>priorityClassName</td>
<td>PriorityClassName sets the priority class for all M3DB pods.</td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>nodeEndpointFormat</td>
<td>NodeEndpointFormat allows overriding of the endpoint used for a node in the M3DB placement. Defaults to \"{{ .PodName }}.{{ .M3DBService }}:{{ .Port }}\". Useful if access to the cluster from other namespaces is desired. See \"Node Endpoint\" docs for full variables available.</td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>hostNetwork</td>
<td>HostNetwork indicates whether M3DB pods should run in the same network namespace as the node its on. This option should be used sparingly due to security concerns outlined in the linked documentation. <a href="https://kubernetes.io/docs/concepts/policy/pod-security-policy/#host-namespaces">https://kubernetes.io/docs/concepts/policy/pod-security-policy/#host-namespaces</a></td>
<td>bool</td>
<td>false</td>
</tr>
<tr>
<td>dnsPolicy</td>
<td>DNSPolicy allows the user to set the pod's DNSPolicy. This is often used in conjunction with HostNetwork.+optional</td>
<td>*corev1.DNSPolicy</td>
<td>false</td>
</tr>
<tr>
<td>externalCoordinator</td>
<td>Specify a \"controlling\" coordinator for the cluster.</td>
<td>*<a href="#externalcoordinatorconfig">ExternalCoordinatorConfig</a></td>
<td>false</td>
</tr>
<tr>
<td>initContainers</td>
<td>Custom setup for db nodes can be done via initContainers Provide the complete spec for the initContainer here If any storage volumes are needed in the initContainer see InitVolumes below</td>
<td>[]corev1.Container</td>
<td>false</td>
</tr>
<tr>
<td>initVolumes</td>
<td>If the InitContainers require any storage volumes Provide the complete specification for the required Volumes here</td>
<td>[]corev1.Volume</td>
<td>false</td>
</tr>
<tr>
<td>podMetadata</td>
<td>PodMetadata is for any Metadata that is unique to the pods, and does not belong on any other objects, such as Prometheus scrape tags</td>
<td><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.10/#objectmeta-v1-meta">metav1.ObjectMeta</a></td>
<td>false</td>
</tr>
<tr>
<td>parallelPodManagement</td>
<td>ParallelPodManagement sets StatefulSets created by the operator to have Parallel pod management instead of OrderedReady. If nil, this will default to true.</td>
<td>*bool</td>
<td>true</td>
</tr>
<tr>
<td>serviceAccountName</td>
<td>To use a non-default service account, specify the name here otherwise the service account \"default\" will be used. This is useful for advanced use-cases such as pod security policies. The service account must exist. This operator will not create it.</td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>frozen</td>
<td>Frozen is used to stop the operator from taking any further actions on a cluster. This is useful when troubleshooting as it guarantees the operator won't make any changes to the cluster.</td>
<td>bool</td>
<td>false</td>
</tr>
</tbody>
</table>
<p><a href="#table-of-contents">Back to TOC</a></p>
<h2 id="externalcoordinatorconfig">ExternalCoordinatorConfig</h2>
<p>ExternalCoordinatorConfig defines parameters for using an external coordinator to control the cluster.\n\n- It is expected that there is a separate standalone coordinator cluster. - It is externally managed - not managed by this operator. - It is expected to have a service endpoint.\n\nSetup this db cluster, but do not assume a co-located coordinator. Instead provide a selector here so we can point to a separate coordinator service.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Scheme</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>selector</td>
<td></td>
<td>map[string]string</td>
<td>true</td>
</tr>
<tr>
<td>serviceEndpoint</td>
<td></td>
<td>string</td>
<td>false</td>
</tr>
</tbody>
</table>
<p><a href="#table-of-contents">Back to TOC</a></p>
<h2 id="isolationgroup">IsolationGroup</h2>
<p>IsolationGroup defines the name of zone as well attributes for the zone configuration</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Scheme</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Name is the value that will be used in StatefulSet labels, pod labels, and M3DB placement \"isolationGroup\" fields.</td>
<td>string</td>
<td>true</td>
</tr>
<tr>
<td>nodeAffinityTerms</td>
<td>NodeAffinityTerms is an array of NodeAffinityTerm requirements, which are ANDed together to indicate what nodes an isolation group can be assigned to.</td>
<td>[]<a href="#nodeaffinityterm">NodeAffinityTerm</a></td>
<td>false</td>
</tr>
<tr>
<td>numInstances</td>
<td>NumInstances defines the number of instances.</td>
<td>int32</td>
<td>true</td>
</tr>
<tr>
<td>storageClassName</td>
<td>StorageClassName is the name of the StorageClass to use for this isolation group. This allows ensuring that PVs will be created in the same zone as the pinned statefulset on Kubernetes &lt; 1.12 (when topology aware volume scheduling was introduced). Only has effect if the clusters <code>dataDirVolumeClaimTemplate</code> is non-nil. If set, the volume claim template will have its storageClassName field overridden per-isolationgroup. If unset the storageClassName of the volumeClaimTemplate will be used.</td>
<td>string</td>
<td>false</td>
</tr>
</tbody>
</table>
<p><a href="#table-of-contents">Back to TOC</a></p>
<h2 id="m3dbcluster">M3DBCluster</h2>
<p>M3DBCluster defines the cluster</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Scheme</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>metadata</td>
<td></td>
<td><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.10/#objectmeta-v1-meta">metav1.ObjectMeta</a></td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td></td>
<td>string</td>
<td>true</td>
</tr>
<tr>
<td>spec</td>
<td></td>
<td><a href="#clusterspec">ClusterSpec</a></td>
<td>true</td>
</tr>
<tr>
<td>status</td>
<td></td>
<td><a href="#m3dbstatus">M3DBStatus</a></td>
<td>false</td>
</tr>
</tbody>
</table>
<p><a href="#table-of-contents">Back to TOC</a></p>
<h2 id="m3dbclusterlist">M3DBClusterList</h2>
<p>M3DBClusterList represents a list of M3DB Clusters</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Scheme</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>metadata</td>
<td></td>
<td><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.10/#listmeta-v1-meta">metav1.ListMeta</a></td>
<td>false</td>
</tr>
<tr>
<td>items</td>
<td></td>
<td>[]<a href="#m3dbcluster">M3DBCluster</a></td>
<td>true</td>
</tr>
</tbody>
</table>
<p><a href="#table-of-contents">Back to TOC</a></p>
<h2 id="m3dbstatus">M3DBStatus</h2>
<p>M3DBStatus contains the current state the M3DB cluster along with a human readable message</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Scheme</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>state</td>
<td>State is a enum of green, yellow, and red denoting the health of the cluster</td>
<td>M3DBState</td>
<td>false</td>
</tr>
<tr>
<td>conditions</td>
<td>Various conditions about the cluster.</td>
<td>[]<a href="#clustercondition">ClusterCondition</a></td>
<td>false</td>
</tr>
<tr>
<td>message</td>
<td>Message is a human readable message indicating why the cluster is in it's current state</td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>observedGeneration</td>
<td>ObservedGeneration is the last generation of the cluster the controller observed. Kubernetes will automatically increment metadata.Generation every time the cluster spec is changed.</td>
<td>int64</td>
<td>false</td>
</tr>
</tbody>
</table>
<p><a href="#table-of-contents">Back to TOC</a></p>
<h2 id="nodeaffinityterm">NodeAffinityTerm</h2>
<p>NodeAffinityTerm represents a node label and a set of label values, any of which can be matched to assign a pod to a node.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Scheme</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>Key is the label of the node.</td>
<td>string</td>
<td>true</td>
</tr>
<tr>
<td>values</td>
<td>Values is an array of values, any of which a node can have for a pod to be assigned to it.</td>
<td>[]string</td>
<td>true</td>
</tr>
</tbody>
</table>
<p><a href="#table-of-contents">Back to TOC</a></p>
<h2 id="indexoptions">IndexOptions</h2>
<p>IndexOptions defines parameters for indexing.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Scheme</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>enabled</td>
<td>Enabled controls whether metric indexing is enabled.</td>
<td>bool</td>
<td>false</td>
</tr>
<tr>
<td>blockSize</td>
<td>BlockSize controls the index block size.</td>
<td>string</td>
<td>false</td>
</tr>
</tbody>
</table>
<p><a href="#table-of-contents">Back to TOC</a></p>
<h2 id="namespace">Namespace</h2>
<p>Namespace defines an M3DB namespace or points to a preset M3DB namespace.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Scheme</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Name is the namespace name.</td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>preset</td>
<td>Preset indicates preset namespace options.</td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>options</td>
<td>Options points to optional custom namespace configuration.</td>
<td>*<a href="#namespaceoptions">NamespaceOptions</a></td>
<td>false</td>
</tr>
</tbody>
</table>
<p><a href="#table-of-contents">Back to TOC</a></p>
<h2 id="namespaceoptions">NamespaceOptions</h2>
<p>NamespaceOptions defines parameters for an M3DB namespace. See <a href="https://m3db.github.io/m3/operational_guide/namespace_configuration/">https://m3db.github.io/m3/operational_guide/namespace_configuration/</a> for more details.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Scheme</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>bootstrapEnabled</td>
<td>BootstrapEnabled control if bootstrapping is enabled.</td>
<td>bool</td>
<td>false</td>
</tr>
<tr>
<td>flushEnabled</td>
<td>FlushEnabled controls whether flushing is enabled.</td>
<td>bool</td>
<td>false</td>
</tr>
<tr>
<td>writesToCommitLog</td>
<td>WritesToCommitLog controls whether commit log writes are enabled.</td>
<td>bool</td>
<td>false</td>
</tr>
<tr>
<td>cleanupEnabled</td>
<td>CleanupEnabled controls whether cleanups are enabled.</td>
<td>bool</td>
<td>false</td>
</tr>
<tr>
<td>repairEnabled</td>
<td>RepairEnabled controls whether repairs are enabled.</td>
<td>bool</td>
<td>false</td>
</tr>
<tr>
<td>snapshotEnabled</td>
<td>SnapshotEnabled controls whether snapshotting is enabled.</td>
<td>bool</td>
<td>false</td>
</tr>
<tr>
<td>retentionOptions</td>
<td>RetentionOptions sets the retention parameters.</td>
<td><a href="#retentionoptions">RetentionOptions</a></td>
<td>false</td>
</tr>
<tr>
<td>indexOptions</td>
<td>IndexOptions sets the indexing parameters.</td>
<td><a href="#indexoptions">IndexOptions</a></td>
<td>false</td>
</tr>
<tr>
<td>coldWritesEnabled</td>
<td>ColdWritesEnabled controls whether cold writes are enabled.</td>
<td>bool</td>
<td>false</td>
</tr>
</tbody>
</table>
<p><a href="#table-of-contents">Back to TOC</a></p>
<h2 id="retentionoptions">RetentionOptions</h2>
<p>RetentionOptions defines parameters for data retention.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Scheme</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>retentionPeriod</td>
<td>RetentionPeriod controls how long data for the namespace is retained.</td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>blockSize</td>
<td>BlockSize controls the block size for the namespace.</td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>bufferFuture</td>
<td>BufferFuture controls how far in the future metrics can be written.</td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>bufferPast</td>
<td>BufferPast controls how far in the past metrics can be written.</td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>blockDataExpiry</td>
<td>BlockDataExpiry controls the block expiry.</td>
<td>bool</td>
<td>false</td>
</tr>
<tr>
<td>blockDataExpiryAfterNotAccessPeriod</td>
<td>BlockDataExpiry controls the not after access period for expiration.</td>
<td>string</td>
<td>false</td>
</tr>
</tbody>
</table>
<p><a href="#table-of-contents">Back to TOC</a></p>
<h2 id="podidentity">PodIdentity</h2>
<p>PodIdentity contains all the fields that may be used to identify a pod's identity in the M3DB placement. Any non-empty fields will be used to identity uniqueness of a pod for the purpose of M3DB replace operations.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Scheme</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td></td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>uid</td>
<td></td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>nodeName</td>
<td></td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>nodeExternalID</td>
<td></td>
<td>string</td>
<td>false</td>
</tr>
<tr>
<td>nodeProviderID</td>
<td></td>
<td>string</td>
<td>false</td>
</tr>
</tbody>
</table>
<p><a href="#table-of-contents">Back to TOC</a></p>
<h2 id="podidentityconfig">PodIdentityConfig</h2>
<p>PodIdentityConfig contains cluster-level configuration for deriving pod identity.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Scheme</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>sources</td>
<td>Sources enumerates the sources from which to derive pod identity. Note that a pod's name will always be used. If empty, defaults to pod name and UID.</td>
<td>[]PodIdentitySource</td>
<td>true</td>
</tr>
</tbody>
</table>
<p><a href="#table-of-contents">Back to TOC</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../configuration/node_endpoint/" title="Node Endpoint" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Node Endpoint
              </div>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.c3dc8c49.min.js"></script>
      <script src="../assets/javascripts/bundle.f9edbbd5.min.js"></script><script id="__lang" type="application/json">{"clipboard.copied": "Copied to clipboard", "search.config.pipeline": "trimmer, stopWordFilter", "search.result.one": "1 matching document", "search.config.separator": "[\\s\\-]+", "search.result.none": "No matching documents", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.config.lang": "en", "clipboard.copy": "Copy to clipboard"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.8e2cddea.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>